# 面向偏标记学习的双图正则化自适应多视图特征选择 (DGR-AMFS)

这是对王阔同学提出的研究方案 "面向偏标记学习的双图正则化自适应多视图特征选择" 的 MATLAB 实现。

## 核心思想

本算法通过一个创新的双路（Dual-Branch）框架来解决偏标记多视图特征选择问题：

1.  **A 路 (SSC-style)**：在偏标记约束下，联合学习一个共享的内生伪标签矩阵 `F` 和多个视图的特征选择矩阵 `U`。此过程受**图①（特征流形图）**的约束。
2.  **B 路 (PLC)**：利用您提供的 `PLC` (Partial Label Clustering) 算法，生成一个外部的、结构驱动的伪标签矩阵 `Q`。
3.  **一致性桥梁**：通过类别对齐（匈牙利算法）比较 `F` 和 `Q`，计算样本级和全局的一致性。这种一致性被用来：
    * 构建**图②（共识图）**，只在高度一致的样本上建立连接，用于纠偏。
    * 形成一个对齐损失项，惩罚 `F` 和 `Q` 之间的分歧。
    * 自适应地调整视图权重，通过一个由全局一致性驱动的**熵正则项**来避免强视图独大。

最终，所有部分被整合到一个统一的目标函数中，通过交替优化求解，实现特征选择和伪标签质量的共同提升。

## 文件结构

-   `main_DGR_AMFS.m`: 主脚本，用于配置实验、加载数据和运行算法。
-   `DGR_AMFS_train.m`: 核心训练函数，包含主优化循环。
-   `external/`: 存放您提供的所有原始 PLC 相关 `.m` 文件 (例如 `PLC.m`, `hungarian.m` 等)。
-   `core/`: 存放本次新实现的核心算法模块。
    -   `PLC_wrapper.m`: B 路的封装器，用于调用 `external` 中的 PLC 算法。
    -   `update_F.m`: 更新内生伪标签 `F`。
    -   `update_U.m`: 更新特征选择矩阵 `U`。
    -   `update_alpha.m`: 更新视图权重 `α`。
-   `utils/`: 存放辅助函数。
    -   `construct_graphs.m`: 构建图①和图②。
    -   `align_and_get_consistency.m`: 对齐伪标签并计算一致性。
    -   `project_masked_simplex.m`: 关键的投影函数，确保 `F` 满足偏标记约束。
    -   `prox_L21.m`: L2,1 范数的近端算子。
    -   `js_divergence.m`: 计算 JS 散度。

## 如何运行

1.  将您提供的所有原始 PLC 代码文件（`PLC.m`, `AdversarialPCP.m`, `hungarian.m`, `spectralCluster.m` 等）放入 `external` 文件夹。
2.  打开 `main_DGR_AMFS.m` 文件。
3.  **修改数据加载部分**：当前代码使用了一个自动生成的合成数据集。请根据您的实际情况，修改这部分代码以加载您自己的多视图数据集 `X` (cell 数组) 和偏标记矩阵 `Y`。
4.  **调整超参数**：在主文件中根据您的需求调整 `params` 结构体中的各个超参数。
5.  直接在 MATLAB 中运行 `main_DGR_AMFS.m`。

## 注意事项

-   `PLC_wrapper.m` 目前使用谱聚类来**模拟** PLC 的功能，以确保代码的开箱即用。在您的正式实验中，您需要将这部分替换为对您实际 `PLC.m` 函数的调用，并可能需要根据 `PLC.m` 的输入要求对 `PLC_wrapper.m` 做少量适配。
-   代码中使用了 `constructW_cai.m` 函数来构建邻接矩阵，这是一个常用的图构建工具。如果您的环境中没有，`utils/construct_graphs.m` 文件末尾提供了一个简化的版本可供使用。
-   算法的性能对超参数较为敏感，尤其是几个 `lambda` 值。建议参考您文档中的实验设计进行网格搜索调参。
